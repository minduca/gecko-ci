let gecko = require("../src/index");
let http = require('http');
class Server {
    init() {
        let config = require("./config");
        let privateConfig = require("./config.user");
        let monitor = gecko.watchBuilds(config, privateConfig);
        this.createServer();
        monitor.stopWatchingBuilds();
    }
    createServer() {
        http.createServer(function (req, res) {
            res.writeHead(200, { 'Content-Type': 'text/plain' });
            res.end('Gecko\n');
        }).listen(1337);
    }
}
let server = new Server();
server.init();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUksS0FBSyxHQUFxQixPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7QUFDckQsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBRTNCO0lBRVcsSUFBSTtRQUVQLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNqQyxJQUFJLGFBQWEsR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUE7UUFFNUMsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsYUFBYSxDQUFDLENBQUM7UUFFdkQsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBRXBCLE9BQU8sQ0FBQyxrQkFBa0IsRUFBRSxDQUFBO0lBQ2hDLENBQUM7SUFFTyxZQUFZO1FBRWhCLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVSxHQUFHLEVBQUUsR0FBRztZQUNoQyxHQUFHLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxFQUFFLGNBQWMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxDQUFDO1lBQ3JELEdBQUcsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdkIsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BCLENBQUM7QUFDTCxDQUFDO0FBRUQsSUFBSSxNQUFNLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQztBQUMxQixNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZ2Vja286IEFwcC5JR2Vja29Nb2R1bGUgPSByZXF1aXJlKFwiLi4vc3JjL2luZGV4XCIpXHJcbmxldCBodHRwID0gcmVxdWlyZSgnaHR0cCcpO1xyXG5cclxuY2xhc3MgU2VydmVyIHtcclxuXHJcbiAgICBwdWJsaWMgaW5pdCgpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbmZpZyA9IHJlcXVpcmUoXCIuL2NvbmZpZ1wiKTtcclxuICAgICAgICBsZXQgcHJpdmF0ZUNvbmZpZyA9IHJlcXVpcmUoXCIuL2NvbmZpZy51c2VyXCIpXHJcblxyXG4gICAgICAgIGxldCBtb25pdG9yID0gZ2Vja28ud2F0Y2hCdWlsZHMoY29uZmlnLCBwcml2YXRlQ29uZmlnKTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVTZXJ2ZXIoKTtcclxuXHJcbiAgICAgICAgbW9uaXRvci5zdG9wV2F0Y2hpbmdCdWlsZHMoKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlU2VydmVyKCkge1xyXG5cclxuICAgICAgICBodHRwLmNyZWF0ZVNlcnZlcihmdW5jdGlvbiAocmVxLCByZXMpIHtcclxuICAgICAgICAgICAgcmVzLndyaXRlSGVhZCgyMDAsIHsgJ0NvbnRlbnQtVHlwZSc6ICd0ZXh0L3BsYWluJyB9KTtcclxuICAgICAgICAgICAgcmVzLmVuZCgnR2Vja29cXG4nKTtcclxuICAgICAgICB9KS5saXN0ZW4oMTMzNyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCBzZXJ2ZXIgPSBuZXcgU2VydmVyKCk7XHJcbnNlcnZlci5pbml0KCk7Il19